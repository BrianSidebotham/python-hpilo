


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Common issues &#8212; python-hpilo 4.1 documentation</title>
    <link rel="stylesheet" href="_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/cloud.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing guide" href="contributing.html" />
    <link rel="prev" title="Managing iLO’s with puppet" href="puppet.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing guide"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="puppet.html" title="Managing iLO’s with puppet"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">python-hpilo 4.1 documentation</a> &#187;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="common-issues">
<h1>Common issues<a class="headerlink" href="#common-issues" title="Permalink to this headline">¶</a></h1>
<p>The iLO interfaces aren’t the most helpful when they detect something
erroneous. These are some common issues and their solutions. If you have a
problem that is not listed here, or solved with these instructions, please file
an issue at <a class="reference external" href="https://github.com/seveas/python-hpilo">https://github.com/seveas/python-hpilo</a>. When reporting bugs, please
do send the problematic XML responses. These XML responses can be saved as
follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="o">--</span><span class="n">save</span><span class="o">-</span><span class="n">response</span><span class="o">=</span><span class="n">for_bugreport</span><span class="o">.</span><span class="n">txt</span> <span class="n">get_fw_version</span>
</pre></div>
</div>
<p>Of course you should replace the hostname  with the actual iLO hostname or ip,
and get_fw_version with the actual call you want to make. If you use the python
API instead of the CLI tool, set the <code class="xref py py-data docutils literal"><span class="pre">save_response</span></code> attribute on the ilo
object:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ilo</span> <span class="o">=</span> <span class="n">hpilo</span><span class="o">.</span><span class="n">Ilo</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">login</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="n">ilo</span><span class="o">.</span><span class="n">save_response</span> <span class="o">=</span> <span class="s2">&quot;for_bugreport.txt&quot;</span>
<span class="n">ilo</span><span class="o">.</span><span class="n">get_fw_version</span><span class="p">()</span>
</pre></div>
</div>
<p>These debug responses may contain sensitive information, which you should edit
out. Please use a hexeditor to do so, or at least make sure your editor does
not try to normalize newlines. It is important that the number of characters in
the file stays the same, so don’t add or remove data, just overwrite sensitive
values with XXXX.</p>
<p>As github issues do not support attachments, feel fee to mail this debug
information to <a class="reference external" href="mailto:dennis&#37;&#52;&#48;kaarsemaker&#46;net">the author</a> directly.</p>
<div class="section" id="update-your-firmware">
<h2>Update your firmware<a class="headerlink" href="#update-your-firmware" title="Permalink to this headline">¶</a></h2>
<p>This might sound like a lame cop-out, but quite a few versions of especially
iLO 3 firmware contain serious bugs that cause the XML interface to misbehave.
Upgrading the firmware of an iLO is simple and does not impact the host at all,
so it’s always a good idea to start with a firmware update:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">update_rib_firmware</span> <span class="n">version</span><span class="o">=</span><span class="n">latest</span>
</pre></div>
</div>
</div>
<div class="section" id="syntax-error-line-0">
<h2>Syntax error: Line #0<a class="headerlink" href="#syntax-error-line-0" title="Permalink to this headline">¶</a></h2>
<p>Occasionally you might see this error at the end of a traceback:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">hpilo</span><span class="o">.</span><span class="n">IloError</span><span class="p">:</span> <span class="n">Error</span> <span class="n">communicating</span> <span class="k">with</span> <span class="n">iLO</span><span class="p">:</span> <span class="n">Syntax</span> <span class="n">error</span><span class="p">:</span> <span class="n">Line</span> <span class="c1">#0: syntax error near &quot;&quot; in the line: &quot;&quot;</span>
</pre></div>
</div>
<p>This generaly means that you are trying to call a method that is not supported
for your device or the firmware version you use. Get this information with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">get_fw_version</span>
</pre></div>
</div>
<p>And consult the HP sample XML files to find out whether this call is supported
for your device and firmware version. If it is, please file a bug report.</p>
<p>Note that for some calls (most notable mod_global_settings), support for the
call may be there, but not all arguments are supported.</p>
</div>
<div class="section" id="elementtree-parseerror">
<h2>ElementTree.ParseError<a class="headerlink" href="#elementtree-parseerror" title="Permalink to this headline">¶</a></h2>
<p>Occasionally you might see either of these errors at the end of a traceback:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cElementTree</span><span class="o">.</span><span class="n">ParseError</span><span class="p">:</span> <span class="ow">not</span> <span class="n">well</span><span class="o">-</span><span class="n">formed</span> <span class="p">(</span><span class="n">invalid</span> <span class="n">token</span><span class="p">):</span> <span class="n">line</span> <span class="mi">301</span><span class="p">,</span> <span class="n">column</span> <span class="mi">23</span>
<span class="n">xml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">ElementTree</span><span class="o">.</span><span class="n">ParseError</span><span class="p">:</span> <span class="ow">not</span> <span class="n">well</span><span class="o">-</span><span class="n">formed</span> <span class="p">(</span><span class="n">invalid</span> <span class="n">token</span><span class="p">):</span> <span class="n">line</span> <span class="mi">301</span><span class="p">,</span> <span class="n">column</span> <span class="mi">23</span>
</pre></div>
</div>
<p>This means that the iLO interface is spewing invalid XML back at you.
python-hpilo has some workarounds in place for common cases, and most other
cases have been fixed in newer firmware versions. Please update your firmware
version and try again. If the problem persists, please file a bug report.</p>
</div>
<div class="section" id="unexpected-errors-after-a-login-failure">
<h2>Unexpected errors after a login failure<a class="headerlink" href="#unexpected-errors-after-a-login-failure" title="Permalink to this headline">¶</a></h2>
<p>If you use the wrong credentials to access the XML interface, some iLO’s get
into some weird state. Call <code class="xref py py-func docutils literal"><span class="pre">get_fw_version()</span></code> a few times to clear this
state and recover.</p>
</div>
<div class="section" id="failure-to-update-ilo3-firmware">
<h2>Failure to update iLO3 firmware<a class="headerlink" href="#failure-to-update-ilo3-firmware" title="Permalink to this headline">¶</a></h2>
<p>The early firmware versions of iLO3 had quite a few issues. To update from
anything older than 1.28 to 1.50 or newer, you need to update in two steps:
first update to 1.28 and then update to a later version:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">update_rib_firmware</span> <span class="n">version</span><span class="o">=</span><span class="mf">1.28</span>
<span class="n">hpilo_cli</span> <span class="n">example</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="n">int</span><span class="o">.</span><span class="n">kaarsemaker</span><span class="o">.</span><span class="n">net</span> <span class="n">update_rib_firmware</span> <span class="n">version</span><span class="o">=</span><span class="n">latest</span>
</pre></div>
</div>
</div>
<div class="section" id="hpilo-iloerror-error-reading-configuration">
<h2><cite>hpilo.IloError: Error reading configuration</cite><a class="headerlink" href="#hpilo-iloerror-error-reading-configuration" title="Permalink to this headline">¶</a></h2>
<p>This error might occur in delayed mode when one of the calls causes a reset of
the iLO, such as changing network settings or reseting to factory defaults. All
delayed calls called by the same <cite>call_delayed</cite> after this reset may then cause
this error as the iLO is reseting. For example, when calling <cite>hpilo_cli
localhost factory_defaults + activate_license key=12345</cite>, the
<cite>activate_license</cite> call may fail with this error. If you hit this issue and you
use calls that can cause a reset, make sure you either use them outside a
delayed call or at the end of the delayed call.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="index.html" title="index">
          <img class="logo" src="_static/python-hpilo.png" alt="Logo"/>
        </a></p><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Common issues</a><ul>
<li><a class="reference internal" href="#update-your-firmware">Update your firmware</a></li>
<li><a class="reference internal" href="#syntax-error-line-0">Syntax error: Line #0</a></li>
<li><a class="reference internal" href="#elementtree-parseerror">ElementTree.ParseError</a></li>
<li><a class="reference internal" href="#unexpected-errors-after-a-login-failure">Unexpected errors after a login failure</a></li>
<li><a class="reference internal" href="#failure-to-update-ilo3-firmware">Failure to update iLO3 firmware</a></li>
<li><a class="reference internal" href="#hpilo-iloerror-error-reading-configuration"><cite>hpilo.IloError: Error reading configuration</cite></a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="puppet.html"
                          title="Previous page">&larr; Managing iLO’s with puppet</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="contributing.html"
                          title="Next page">&rarr; Contributing guide</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing guide"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="puppet.html" title="Managing iLO’s with puppet"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">python-hpilo 4.1 documentation</a> &#187;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2018, Dennis Kaarsemaker.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>